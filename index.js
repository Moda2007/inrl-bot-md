/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
function _0x461f(){const _0x2426cf=['splice','sync','Lost\x20connection\x20to\x20the\x20server.\x20Trying\x20to\x20reconnect...','test','includes','end','log','user','participant','Corrupted\x20section.\x20Delete\x20old\x20session\x20and\x20scan\x20the\x20QR\x20code.','281428lKJnKd','toLowerCase','./lib/sql/greetings','pattern','prototype','default','badSession','extname','DB\x20syncing','Bot\x20working...ðŸ¤™','forEach','deleteCommand','sendMessage','got','key','now','videoMessage','split','chatRead','store','statusCode','image','Disconnected:\x20','17488fbaoVg','DATABASE','onlyGroup','Current\x20session\x20replaced\x20by\x20the\x20new\x20one\x20opened.\x20Please\x20close\x20this\x20session\x20first.','replace','video','â¬‡ï¸\x20Installing\x20external\x20plugins...','writeFileSync','NO_ONLINE','Connection\x20closed.\x20Reconnecting...','connectionClosed','SUDO','url','match','Wa-Bot\x20Connecting\x20to\x20whatsapp','jid','445270WxQVhN','./lib/sql/','3ielcMO','length','.js','photo','445895kdzPDp','pino','silent','dataValues','get','message','Bot\x20connected.âœ…ï¸\x20To\x20Whatsapp...','./lib/inrl','./session.json','imageMessage','open','sequelize','./plugins/','message-new','path','connectionLost','close','error','SEND_READ','loggedOut','133214zTOwoH','caption','extendedTextMessage','logout','readdirSync','6xRrILt','remove','body','Connection\x20timed\x20out,\x20Reconnecting...','timedOut','@adiwajshing/baileys','@hapi/boom','./plugins','name','getTime','HANDLERS','onlyPm','remoteJid','indexOf','1303083hNQsdF','PluginDB','commands','messageStubType','./lib/sql/plugin','child','updatePresence','*Wa-Bot-Md\x20Working*','output','329plbqMg','existsSync','Kingdom\x20needed.\x20restarting...','fromMe','@adiwajshing/baileys/lib/Utils/logger','text','unavailable','442350atomKI'];_0x461f=function(){return _0x2426cf;};return _0x461f();}const _0x44c276=_0x49c7;(function(_0x67d3d2,_0x26d810){const _0x165aa7=_0x49c7,_0x14c722=_0x67d3d2();while(!![]){try{const _0x3a7705=parseInt(_0x165aa7(0x158))/0x1+parseInt(_0x165aa7(0x172))/0x2+-parseInt(_0x165aa7(0x15a))/0x3*(-parseInt(_0x165aa7(0x131))/0x4)+parseInt(_0x165aa7(0x15e))/0x5*(-parseInt(_0x165aa7(0x177))/0x6)+-parseInt(_0x165aa7(0x18e))/0x7*(parseInt(_0x165aa7(0x148))/0x8)+-parseInt(_0x165aa7(0x185))/0x9+parseInt(_0x165aa7(0x126))/0xa;if(_0x3a7705===_0x26d810)break;else _0x14c722['push'](_0x14c722['shift']());}catch(_0x15d312){_0x14c722['push'](_0x14c722['shift']());}}}(_0x461f,0x46be1));function _0x49c7(_0xb368bf,_0x196661){const _0x461fc0=_0x461f();return _0x49c7=function(_0x49c714,_0x48fff5){_0x49c714=_0x49c714-0x124;let _0xd435c1=_0x461fc0[_0x49c714];return _0xd435c1;},_0x49c7(_0xb368bf,_0x196661);}const {default:makeWASocket,useSingleFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeInMemoryStore}=require(_0x44c276(0x17c)),{Boom}=require(_0x44c276(0x17d)),{state,saveState}=useSingleFileAuthState(_0x44c276(0x166)),MAIN_LOGGER=require(_0x44c276(0x192))[_0x44c276(0x136)],logger=MAIN_LOGGER[_0x44c276(0x18a)]({});logger['level']=_0x44c276(0x160);const config=require('./config'),pino=require(_0x44c276(0x15f)),store=makeInMemoryStore({'logger':pino()['child']({'level':_0x44c276(0x160),'stream':_0x44c276(0x144)})}),fs=require('fs'),path=require(_0x44c276(0x16c)),events=require(_0x44c276(0x165)),{Message,Image,Video}=require('./lib/'),{DataTypes}=require(_0x44c276(0x169)),{GreetingsDB,getMessage}=require(_0x44c276(0x133)),got=require(_0x44c276(0x13e)),prefix=config[_0x44c276(0x181)];fs[_0x44c276(0x176)](_0x44c276(0x159))[_0x44c276(0x13b)](_0x1e76db=>{const _0x563c68=_0x44c276;path[_0x563c68(0x138)](_0x1e76db)[_0x563c68(0x132)]()=='.js'&&require('./lib/sql/'+_0x1e76db);});const plugindb=require(_0x44c276(0x189));String[_0x44c276(0x135)]['format']=function(){const _0x5e4dec=_0x44c276;var _0xf64eac=0x0,_0x2511ed=arguments;return this[_0x5e4dec(0x14c)](/{}/g,function(){return typeof _0x2511ed[_0xf64eac]!='undefined'?_0x2511ed[_0xf64eac++]:'';});};!Date[_0x44c276(0x140)]&&(Date['now']=function(){const _0x44b134=_0x44c276;return new Date()[_0x44b134(0x180)]();});Array[_0x44c276(0x135)][_0x44c276(0x178)]=function(){const _0x4e9dce=_0x44c276;var _0x2be821,_0x4a2d55=arguments,_0x1525b0=_0x4a2d55[_0x4e9dce(0x15b)],_0x59508f;while(_0x1525b0&&this[_0x4e9dce(0x15b)]){_0x2be821=_0x4a2d55[--_0x1525b0];while((_0x59508f=this[_0x4e9dce(0x184)](_0x2be821))!==-0x1){this[_0x4e9dce(0x127)](_0x59508f,0x1);}}return this;};const startSock=async()=>{const _0x49bc8f=_0x44c276;await config[_0x49bc8f(0x149)][_0x49bc8f(0x128)](),console['log'](_0x49bc8f(0x139)),console[_0x49bc8f(0x12d)](_0x49bc8f(0x156));const {version:_0x4e7f1f}=await fetchLatestBaileysVersion(),_0x2883f2=makeWASocket({'logger':logger,'version':_0x4e7f1f,'printQRInTerminal':![],'auth':state});console[_0x49bc8f(0x12d)](_0x49bc8f(0x164)),store['bind'](_0x2883f2['ev']),_0x2883f2['ev']['on'](_0x49bc8f(0x168),async()=>{const _0x56d632=_0x49bc8f;console['log'](_0x56d632(0x14e));var _0x31a79a=await plugindb[_0x56d632(0x186)]['findAll']();_0x31a79a['map'](async _0x47865e=>{const _0x1b3616=_0x56d632;if(!fs[_0x1b3616(0x18f)]('./plugins/'+_0x47865e[_0x1b3616(0x161)][_0x1b3616(0x17f)]+_0x1b3616(0x15c))){console[_0x1b3616(0x12d)](_0x47865e[_0x1b3616(0x161)][_0x1b3616(0x17f)]);var _0x383f23=await got(_0x47865e[_0x1b3616(0x161)][_0x1b3616(0x154)]);_0x383f23[_0x1b3616(0x145)]==0xc8&&(fs[_0x1b3616(0x14f)](_0x1b3616(0x16a)+_0x47865e[_0x1b3616(0x161)][_0x1b3616(0x17f)]+_0x1b3616(0x15c),_0x383f23[_0x1b3616(0x179)]),require(_0x1b3616(0x16a)+_0x47865e['dataValues'][_0x1b3616(0x17f)]+_0x1b3616(0x15c)));}}),fs[_0x56d632(0x176)](_0x56d632(0x17e))[_0x56d632(0x13b)](_0x5897d5=>{const _0x181013=_0x56d632;path[_0x181013(0x138)](_0x5897d5)[_0x181013(0x132)]()==_0x181013(0x15c)&&require(_0x181013(0x16a)+_0x5897d5);}),console['log']('âœ…\x20Plugins\x20installed!'),console[_0x56d632(0x12d)](_0x56d632(0x13a)),await _0x2883f2[_0x56d632(0x13d)](_0x2883f2[_0x56d632(0x12e)]['id'],{'text':_0x56d632(0x18c)});}),_0x2883f2['ev']['on'](_0x49bc8f(0x16b),async _0x1ee135=>{const _0x2b6908=_0x49bc8f;if(_0x1ee135[_0x2b6908(0x13f)]&&_0x1ee135[_0x2b6908(0x13f)][_0x2b6908(0x183)]=='status@broadcast')return;config[_0x2b6908(0x150)]&&await conn[_0x2b6908(0x18b)](_0x1ee135[_0x2b6908(0x13f)]['remoteJid'],Presence[_0x2b6908(0x125)]);if(_0x1ee135[_0x2b6908(0x188)]===0x20||_0x1ee135[_0x2b6908(0x188)]===0x1c){var _0x25c0ba=await getMessage(_0x1ee135['key'][_0x2b6908(0x183)],'goodbye');_0x25c0ba!==![]&&await conn[_0x2b6908(0x13d)](_0x1ee135[_0x2b6908(0x13f)][_0x2b6908(0x183)],_0x25c0ba[_0x2b6908(0x163)],MessageType[_0x2b6908(0x124)]);return;}else{if(_0x1ee135[_0x2b6908(0x188)]===0x1b||_0x1ee135[_0x2b6908(0x188)]===0x1f){var _0x25c0ba=await getMessage(_0x1ee135['key'][_0x2b6908(0x183)]);_0x25c0ba!==![]&&await conn[_0x2b6908(0x13d)](_0x1ee135[_0x2b6908(0x13f)][_0x2b6908(0x183)],_0x25c0ba[_0x2b6908(0x163)],MessageType[_0x2b6908(0x124)]);return;}}events[_0x2b6908(0x187)]['map'](async _0x16ace1=>{const _0xa90c2a=_0x2b6908;if(_0x1ee135[_0xa90c2a(0x163)]&&_0x1ee135[_0xa90c2a(0x163)]['imageMessage']&&_0x1ee135['message']['imageMessage']['caption'])var _0x52f70b=_0x1ee135[_0xa90c2a(0x163)]['imageMessage']['caption'];else{if(_0x1ee135[_0xa90c2a(0x163)]&&_0x1ee135[_0xa90c2a(0x163)]['videoMessage']&&_0x1ee135['message']['videoMessage'][_0xa90c2a(0x173)])var _0x52f70b=_0x1ee135[_0xa90c2a(0x163)][_0xa90c2a(0x141)][_0xa90c2a(0x173)];else{if(_0x1ee135[_0xa90c2a(0x163)])var _0x52f70b=_0x1ee135[_0xa90c2a(0x163)][_0xa90c2a(0x174)]===null?_0x1ee135[_0xa90c2a(0x163)]['conversation']:_0x1ee135[_0xa90c2a(0x163)][_0xa90c2a(0x174)][_0xa90c2a(0x124)];else var _0x52f70b=undefined;}}if(_0x16ace1['on']!==undefined&&(_0x16ace1['on']===_0xa90c2a(0x146)||_0x16ace1['on']===_0xa90c2a(0x15d))&&_0x1ee135[_0xa90c2a(0x163)]&&_0x1ee135[_0xa90c2a(0x163)][_0xa90c2a(0x167)]!==null&&(_0x16ace1[_0xa90c2a(0x134)]===undefined||_0x16ace1['pattern']!==undefined&&_0x16ace1[_0xa90c2a(0x134)][_0xa90c2a(0x12a)](_0x52f70b))||_0x16ace1[_0xa90c2a(0x134)]!==undefined&&_0x16ace1[_0xa90c2a(0x134)]['test'](_0x52f70b)||_0x16ace1['on']!==undefined&&_0x16ace1['on']==='text'&&_0x52f70b||_0x16ace1['on']!==undefined&&_0x16ace1['on']===_0xa90c2a(0x14d)&&_0x1ee135[_0xa90c2a(0x163)]&&_0x1ee135[_0xa90c2a(0x163)][_0xa90c2a(0x141)]!==null&&(_0x16ace1[_0xa90c2a(0x134)]===undefined||_0x16ace1['pattern']!==undefined&&_0x16ace1[_0xa90c2a(0x134)][_0xa90c2a(0x12a)](_0x52f70b))){let _0x4a5c6=![];var _0x3d7ccd=_0x2883f2['chats'][_0xa90c2a(0x162)](_0x1ee135[_0xa90c2a(0x13f)][_0xa90c2a(0x183)]);if(config['SUDO']!==![]&&_0x1ee135[_0xa90c2a(0x13f)]['fromMe']===![]&&_0x16ace1[_0xa90c2a(0x191)]===!![]&&(_0x1ee135[_0xa90c2a(0x12f)]&&config[_0xa90c2a(0x153)][_0xa90c2a(0x12b)](',')?config[_0xa90c2a(0x153)]['split'](',')[_0xa90c2a(0x12b)](_0x1ee135[_0xa90c2a(0x12f)][_0xa90c2a(0x142)]('@')[0x0]):_0x1ee135[_0xa90c2a(0x12f)]['split']('@')[0x0]==config[_0xa90c2a(0x153)]||config[_0xa90c2a(0x153)]['includes'](',')?config[_0xa90c2a(0x153)][_0xa90c2a(0x142)](',')[_0xa90c2a(0x12b)](_0x1ee135[_0xa90c2a(0x13f)][_0xa90c2a(0x183)][_0xa90c2a(0x142)]('@')[0x0]):_0x1ee135['key'][_0xa90c2a(0x183)][_0xa90c2a(0x142)]('@')[0x0]==config['SUDO'])||_0x16ace1[_0xa90c2a(0x191)]===_0x1ee135[_0xa90c2a(0x13f)][_0xa90c2a(0x191)]||_0x16ace1['fromMe']===![]&&!_0x1ee135[_0xa90c2a(0x13f)]['fromMe']){if(_0x16ace1['onlyPinned']&&_0x3d7ccd['pin']===undefined)return;if(!_0x16ace1[_0xa90c2a(0x182)]===_0x3d7ccd[_0xa90c2a(0x157)][_0xa90c2a(0x12b)]('-'))_0x4a5c6=!![];else{if(_0x16ace1[_0xa90c2a(0x14a)]===_0x3d7ccd['jid'][_0xa90c2a(0x12b)]('-'))_0x4a5c6=!![];}}if(_0x4a5c6){config[_0xa90c2a(0x170)]&&_0x16ace1['on']===undefined&&await _0x2883f2[_0xa90c2a(0x143)](_0x1ee135[_0xa90c2a(0x13f)][_0xa90c2a(0x183)]);var _0x3d1ce4=_0x52f70b[_0xa90c2a(0x155)](_0x16ace1[_0xa90c2a(0x134)]);if(_0x16ace1['on']!==undefined&&(_0x16ace1['on']===_0xa90c2a(0x146)||_0x16ace1['on']==='photo')&&_0x1ee135[_0xa90c2a(0x163)][_0xa90c2a(0x167)]!==null)whats=new Image(_0x2883f2,_0x1ee135);else _0x16ace1['on']!==undefined&&_0x16ace1['on']==='video'&&_0x1ee135[_0xa90c2a(0x163)][_0xa90c2a(0x141)]!==null?whats=new Video(_0x2883f2,_0x1ee135):whats=new Message(_0x2883f2,_0x1ee135);_0x16ace1[_0xa90c2a(0x13c)]&&_0x1ee135[_0xa90c2a(0x13f)][_0xa90c2a(0x191)]&&await whats['delete']();{await _0x16ace1['function'](whats,_0x3d1ce4);}}}});}),_0x2883f2['ev']['on']('connection.update',async _0x4c3b76=>{const _0x36d42d=_0x49bc8f,{connection:_0x4a1f86,lastDisconnect:_0x1df88f}=_0x4c3b76;if(_0x4a1f86===_0x36d42d(0x16e)){let _0x316b4f=new Boom(_0x1df88f?.[_0x36d42d(0x16f)])?.[_0x36d42d(0x18d)]?.[_0x36d42d(0x145)];const _0x43e05e=DisconnectReason;if(_0x316b4f===_0x43e05e[_0x36d42d(0x137)]){console[_0x36d42d(0x12d)](_0x36d42d(0x130)),_0x2883f2[_0x36d42d(0x175)]();return;}if(_0x316b4f===_0x43e05e[_0x36d42d(0x152)]){console['log'](_0x36d42d(0x151)),startSock();return;}if(_0x316b4f===_0x43e05e[_0x36d42d(0x16d)]){console['log'](_0x36d42d(0x129)),startSock();return;}if(_0x316b4f===_0x43e05e['connectionReplaced']){console[_0x36d42d(0x12d)](_0x36d42d(0x14b)),_0x2883f2['logout']();return;}if(_0x316b4f===_0x43e05e[_0x36d42d(0x171)]){console['log']('Session\x20terminated\x20by\x20cell\x20phone.\x20Delete\x20session\x20and\x20scan\x20the\x20QR\x20code.'),_0x2883f2[_0x36d42d(0x175)]();return;}if(_0x316b4f===_0x43e05e['restartRequired']){console[_0x36d42d(0x12d)](_0x36d42d(0x190)),startSock();return;}if(_0x316b4f===_0x43e05e[_0x36d42d(0x17b)]){console[_0x36d42d(0x12d)](_0x36d42d(0x17a)),startSock();return;}}console[_0x36d42d(0x12d)]('Connected...',_0x4c3b76);}),_0x2883f2[_0x49bc8f(0x12c)](_0x49bc8f(0x147)+reason+'|'+lastDisconnect[_0x49bc8f(0x16f)]),_0x2883f2['ev']['on']('creds.update',saveState);};startSock();
