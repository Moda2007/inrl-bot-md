/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
const _0x295795=_0x814c;(function(_0x244785,_0x527e86){const _0x509764=_0x814c,_0x5b5367=_0x244785();while(!![]){try{const _0x2be8b4=parseInt(_0x509764(0xdd))/0x1*(parseInt(_0x509764(0xdf))/0x2)+-parseInt(_0x509764(0x100))/0x3+parseInt(_0x509764(0x101))/0x4+-parseInt(_0x509764(0xd4))/0x5+-parseInt(_0x509764(0xde))/0x6*(parseInt(_0x509764(0x11b))/0x7)+parseInt(_0x509764(0x12b))/0x8+-parseInt(_0x509764(0xec))/0x9*(-parseInt(_0x509764(0xf8))/0xa);if(_0x2be8b4===_0x527e86)break;else _0x5b5367['push'](_0x5b5367['shift']());}catch(_0x191d7c){_0x5b5367['push'](_0x5b5367['shift']());}}}(_0x2637,0xb4db4));function _0x2637(){const _0x3ba48a=['7FHejIA','Connection\x20Status:\x20','silent','sync','message-new','PluginDB','my\x20passphrase','open','getPaste','error','@hapi/boom','getTime','replace','extendedTextMessage','chatRead','fromMe','2061880XECLql','extname','participant','pino','goodbye','photo','SESSION_ID','./plugins/','replaceAll','Bot\x20working...ðŸ¤™','level','close','message','now','./lib/sql/','then','inrl~','store','conversation','split','image','caption','existsSync','undefined','creds.update','statusCode','user','Connection\x20timed\x20out,\x20Reconnecting...','imageMessage','key','chats','âœ…\x20Plugins\x20installed!','splice','sendMessage','length','dataValues','6769670TtwTAB','./lib/sql/plugin','Lost\x20connection\x20to\x20the\x20server.\x20Trying\x20to\x20reconnect...','loggedOut','./lib/sql/greetings','u_53edsqmFGKd02RMyQPwONVG0bIPi-R','path','Connection\x20closed.\x20Reconnecting...','messages.upsert','78283sHhrPE','6929544oobqaX','8KufFeE','messageStubType','pattern','./session.json','child','match','@adiwajshing/baileys','pastebin-js','remoteJid','default','get','forEach','commands','9pVhrnl','SEND_READ','text','readdirSync','SUDO','jid','logout','NO_ONLINE','name','Kingdom\x20needed.\x20restarting...','indexOf','DATABASE','30076940OmYwIV','unavailable','badSession','test','./lib/inrl','*Wa-Bot-Md\x20Working*','log','pin','2115306ClAZCR','1504748WLRjFq','decrypt','toLowerCase','.js','onlyGroup','restartRequired','aes256','connectionClosed','includes','connection.update','videoMessage','â¬‡ï¸\x20Installing\x20external\x20plugins...','Corrupted\x20section.\x20Delete\x20old\x20session\x20and\x20scan\x20the\x20QR\x20code.','Disconnected:\x20','@adiwajshing/baileys/lib/Utils/logger','Wa-Bot\x20Connecting\x20to\x20whatsappâ˜®ï¸','Current\x20session\x20replaced\x20by\x20the\x20new\x20one\x20opened.\x20Please\x20close\x20this\x20session\x20first.','url','map','findAll','bind','delete','video','deleteCommand','writeFileSync','prototype'];_0x2637=function(){return _0x3ba48a;};return _0x2637();}const {default:makeWASocket,useSingleFileAuthState,DisconnectReason,fetchLatestBaileysVersion,makeInMemoryStore}=require(_0x295795(0xe5)),{Boom}=require(_0x295795(0x125)),MAIN_LOGGER=require(_0x295795(0x10f))[_0x295795(0xe8)],logger=MAIN_LOGGER[_0x295795(0xe3)]({});logger[_0x295795(0x135)]=_0x295795(0x11d);const config=require('./config'),pino=require(_0x295795(0x12e)),store=makeInMemoryStore({'logger':pino()['child']({'level':_0x295795(0x11d),'stream':_0x295795(0x13c)})}),fs=require('fs'),path=require(_0x295795(0xda)),events=require(_0x295795(0xfc)),{Message,Image,Video}=require('./lib/'),{DataTypes}=require('sequelize'),{GreetingsDB,getMessage}=require(_0x295795(0xd8)),got=require('got'),prefix=config['HANDLERS'];let aes256=require(_0x295795(0x107)),PastebinAPI=require(_0x295795(0xe6)),pastebin=new PastebinAPI({'api_dev_key':_0x295795(0xd9)});const mddc=config[_0x295795(0x131)];var m=mddc;let mdm=m[_0x295795(0x133)](_0x295795(0x13b),'');var key=_0x295795(0x121),plaintext=mdm,decryptedPlainText=aes256[_0x295795(0x102)](key,plaintext),st=decryptedPlainText,decodedString=atob(st);pastebin[_0x295795(0x123)](decodedString)[_0x295795(0x13a)](function(_0x11dc76){const _0x596dca=_0x295795;fs[_0x596dca(0x119)](_0x596dca(0xe2),_0x11dc76);return;});const {state,saveState}=useSingleFileAuthState(_0x295795(0xe2));fs[_0x295795(0xef)]('./lib/sql/')[_0x295795(0xea)](_0x1c326f=>{const _0xc530f3=_0x295795;path[_0xc530f3(0x12c)](_0x1c326f)[_0xc530f3(0x103)]()==_0xc530f3(0x104)&&require(_0xc530f3(0x139)+_0x1c326f);});function _0x814c(_0x2b4766,_0x4c3679){const _0x26377f=_0x2637();return _0x814c=function(_0x814c39,_0x5f02b7){_0x814c39=_0x814c39-0xc5;let _0x2975a2=_0x26377f[_0x814c39];return _0x2975a2;},_0x814c(_0x2b4766,_0x4c3679);}const plugindb=require(_0x295795(0xd5));String[_0x295795(0x11a)]['format']=function(){const _0x5675be=_0x295795;var _0x263cfc=0x0,_0x4ce71e=arguments;return this[_0x5675be(0x127)](/{}/g,function(){const _0x3ca339=_0x5675be;return typeof _0x4ce71e[_0x263cfc]!=_0x3ca339(0xc7)?_0x4ce71e[_0x263cfc++]:'';});};!Date[_0x295795(0x138)]&&(Date['now']=function(){const _0x43c356=_0x295795;return new Date()[_0x43c356(0x126)]();});Array[_0x295795(0x11a)]['remove']=function(){const _0xfae257=_0x295795;var _0x45c71a,_0x3caec1=arguments,_0x28a4b1=_0x3caec1[_0xfae257(0xd2)],_0x506c57;while(_0x28a4b1&&this['length']){_0x45c71a=_0x3caec1[--_0x28a4b1];while((_0x506c57=this[_0xfae257(0xf6)](_0x45c71a))!==-0x1){this[_0xfae257(0xd0)](_0x506c57,0x1);}}return this;};const startSock=async()=>{const _0x3289a9=_0x295795;await config[_0x3289a9(0xf7)][_0x3289a9(0x11e)](),console[_0x3289a9(0xfe)]('DB\x20syncingâ™‹ï¸'),console[_0x3289a9(0xfe)](_0x3289a9(0x110));const {version:_0x3573f1}=await fetchLatestBaileysVersion(),_0x484d18=makeWASocket({'logger':logger,'version':_0x3573f1,'printQRInTerminal':![],'auth':state});console[_0x3289a9(0xfe)]('Bot\x20connected.âœ…ï¸\x20To\x20Whatsapp...'),store[_0x3289a9(0x115)](_0x484d18['ev']),_0x484d18['ev']['on'](_0x3289a9(0xdc),async()=>{const _0x5a93f2=_0x3289a9;console[_0x5a93f2(0xfe)](_0x5a93f2(0x10c));var _0x41b4f4=await plugindb[_0x5a93f2(0x120)][_0x5a93f2(0x114)]();_0x41b4f4[_0x5a93f2(0x113)](async _0x27fc3e=>{const _0x3b2850=_0x5a93f2;if(!fs[_0x3b2850(0xc6)](_0x3b2850(0x132)+_0x27fc3e['dataValues'][_0x3b2850(0xf4)]+_0x3b2850(0x104))){console[_0x3b2850(0xfe)](_0x27fc3e[_0x3b2850(0xd3)]['name']);var _0x4287f7=await got(_0x27fc3e['dataValues'][_0x3b2850(0x112)]);_0x4287f7[_0x3b2850(0xc9)]==0xc8&&(fs[_0x3b2850(0x119)](_0x3b2850(0x132)+_0x27fc3e[_0x3b2850(0xd3)][_0x3b2850(0xf4)]+'.js',_0x4287f7['body']),require('./plugins/'+_0x27fc3e[_0x3b2850(0xd3)][_0x3b2850(0xf4)]+_0x3b2850(0x104)));}}),fs[_0x5a93f2(0xef)]('./plugins')['forEach'](_0x1fd987=>{const _0x5eaf56=_0x5a93f2;path[_0x5eaf56(0x12c)](_0x1fd987)[_0x5eaf56(0x103)]()==_0x5eaf56(0x104)&&require(_0x5eaf56(0x132)+_0x1fd987);}),console['log'](_0x5a93f2(0xcf));}),_0x484d18['ev']['on'](_0x3289a9(0x10a),async _0x140771=>{const _0x103c9c=_0x3289a9,{connection:_0x4f1310,lastDisconnect:_0x66cd4c}=_0x140771;_0x4f1310&&console[_0x103c9c(0xfe)](_0x103c9c(0x11c),_0x4f1310);_0x4f1310==_0x103c9c(0x122)&&(console[_0x103c9c(0xfe)](_0x103c9c(0x134)),await _0x484d18['sendMessage'](_0x484d18[_0x103c9c(0xca)]['id'],{'text':_0x103c9c(0xfd)}));_0x484d18['ev']['on'](_0x103c9c(0x11f),async _0x3a1db0=>{const _0x2963c5=_0x103c9c;if(_0x3a1db0[_0x2963c5(0xcd)]&&_0x3a1db0[_0x2963c5(0xcd)]['remoteJid']=='status@broadcast')return;config[_0x2963c5(0xf3)]&&await conn['updatePresence'](_0x3a1db0[_0x2963c5(0xcd)][_0x2963c5(0xe7)],Presence[_0x2963c5(0xf9)]);if(_0x3a1db0[_0x2963c5(0xe0)]===0x20||_0x3a1db0[_0x2963c5(0xe0)]===0x1c){var _0x1386c4=await getMessage(_0x3a1db0[_0x2963c5(0xcd)][_0x2963c5(0xe7)],_0x2963c5(0x12f));_0x1386c4!==![]&&await conn[_0x2963c5(0xd1)](_0x3a1db0[_0x2963c5(0xcd)][_0x2963c5(0xe7)],_0x1386c4['message'],MessageType[_0x2963c5(0xee)]);return;}else{if(_0x3a1db0[_0x2963c5(0xe0)]===0x1b||_0x3a1db0[_0x2963c5(0xe0)]===0x1f){var _0x1386c4=await getMessage(_0x3a1db0[_0x2963c5(0xcd)]['remoteJid']);_0x1386c4!==![]&&await conn[_0x2963c5(0xd1)](_0x3a1db0[_0x2963c5(0xcd)][_0x2963c5(0xe7)],_0x1386c4[_0x2963c5(0x137)],MessageType[_0x2963c5(0xee)]);return;}}events[_0x2963c5(0xeb)]['map'](async _0xa23857=>{const _0x530107=_0x2963c5;if(_0x3a1db0[_0x530107(0x137)]&&_0x3a1db0[_0x530107(0x137)][_0x530107(0xcc)]&&_0x3a1db0[_0x530107(0x137)][_0x530107(0xcc)]['caption'])var _0x2f4b7f=_0x3a1db0[_0x530107(0x137)][_0x530107(0xcc)][_0x530107(0xc5)];else{if(_0x3a1db0['message']&&_0x3a1db0[_0x530107(0x137)]['videoMessage']&&_0x3a1db0['message']['videoMessage'][_0x530107(0xc5)])var _0x2f4b7f=_0x3a1db0[_0x530107(0x137)]['videoMessage'][_0x530107(0xc5)];else{if(_0x3a1db0[_0x530107(0x137)])var _0x2f4b7f=_0x3a1db0[_0x530107(0x137)][_0x530107(0x128)]===null?_0x3a1db0['message'][_0x530107(0x13d)]:_0x3a1db0['message'][_0x530107(0x128)]['text'];else var _0x2f4b7f=undefined;}}if(_0xa23857['on']!==undefined&&(_0xa23857['on']===_0x530107(0x13f)||_0xa23857['on']==='photo')&&_0x3a1db0['message']&&_0x3a1db0[_0x530107(0x137)][_0x530107(0xcc)]!==null&&(_0xa23857[_0x530107(0xe1)]===undefined||_0xa23857[_0x530107(0xe1)]!==undefined&&_0xa23857[_0x530107(0xe1)]['test'](_0x2f4b7f))||_0xa23857['pattern']!==undefined&&_0xa23857[_0x530107(0xe1)][_0x530107(0xfb)](_0x2f4b7f)||_0xa23857['on']!==undefined&&_0xa23857['on']===_0x530107(0xee)&&_0x2f4b7f||_0xa23857['on']!==undefined&&_0xa23857['on']===_0x530107(0x117)&&_0x3a1db0[_0x530107(0x137)]&&_0x3a1db0[_0x530107(0x137)][_0x530107(0x10b)]!==null&&(_0xa23857[_0x530107(0xe1)]===undefined||_0xa23857[_0x530107(0xe1)]!==undefined&&_0xa23857['pattern'][_0x530107(0xfb)](_0x2f4b7f))){let _0x177b8b=![];var _0x1fa925=_0x484d18[_0x530107(0xce)][_0x530107(0xe9)](_0x3a1db0['key'][_0x530107(0xe7)]);if(config[_0x530107(0xf0)]!==![]&&_0x3a1db0[_0x530107(0xcd)][_0x530107(0x12a)]===![]&&_0xa23857[_0x530107(0x12a)]===!![]&&(_0x3a1db0[_0x530107(0x12d)]&&config[_0x530107(0xf0)][_0x530107(0x109)](',')?config[_0x530107(0xf0)]['split'](',')[_0x530107(0x109)](_0x3a1db0[_0x530107(0x12d)][_0x530107(0x13e)]('@')[0x0]):_0x3a1db0[_0x530107(0x12d)]['split']('@')[0x0]==config[_0x530107(0xf0)]||config['SUDO'][_0x530107(0x109)](',')?config[_0x530107(0xf0)]['split'](',')['includes'](_0x3a1db0[_0x530107(0xcd)]['remoteJid'][_0x530107(0x13e)]('@')[0x0]):_0x3a1db0[_0x530107(0xcd)]['remoteJid'][_0x530107(0x13e)]('@')[0x0]==config[_0x530107(0xf0)])||_0xa23857[_0x530107(0x12a)]===_0x3a1db0[_0x530107(0xcd)][_0x530107(0x12a)]||_0xa23857[_0x530107(0x12a)]===![]&&!_0x3a1db0[_0x530107(0xcd)]['fromMe']){if(_0xa23857['onlyPinned']&&_0x1fa925[_0x530107(0xff)]===undefined)return;if(!_0xa23857['onlyPm']===_0x1fa925['jid']['includes']('-'))_0x177b8b=!![];else{if(_0xa23857[_0x530107(0x105)]===_0x1fa925[_0x530107(0xf1)][_0x530107(0x109)]('-'))_0x177b8b=!![];}}if(_0x177b8b){config[_0x530107(0xed)]&&_0xa23857['on']===undefined&&await _0x484d18[_0x530107(0x129)](_0x3a1db0['key']['remoteJid']);var _0x54c6b1=_0x2f4b7f[_0x530107(0xe4)](_0xa23857[_0x530107(0xe1)]);if(_0xa23857['on']!==undefined&&(_0xa23857['on']===_0x530107(0x13f)||_0xa23857['on']===_0x530107(0x130))&&_0x3a1db0['message'][_0x530107(0xcc)]!==null)whats=new Image(_0x484d18,_0x3a1db0);else _0xa23857['on']!==undefined&&_0xa23857['on']==='video'&&_0x3a1db0[_0x530107(0x137)][_0x530107(0x10b)]!==null?whats=new Video(_0x484d18,_0x3a1db0):whats=new Message(_0x484d18,_0x3a1db0);_0xa23857[_0x530107(0x118)]&&_0x3a1db0['key'][_0x530107(0x12a)]&&await whats[_0x530107(0x116)]();{await _0xa23857['function'](whats,_0x54c6b1);}}}});});if(_0x4f1310!==_0x103c9c(0x136))return;let _0xc5af58=new Boom(_0x66cd4c?.[_0x103c9c(0x124)])?.['output']?.[_0x103c9c(0xc9)];const _0x4805ee=DisconnectReason;if(_0xc5af58===_0x4805ee[_0x103c9c(0xfa)]){console[_0x103c9c(0xfe)](_0x103c9c(0x10d)),_0x484d18[_0x103c9c(0xf2)]();return;}if(_0xc5af58===_0x4805ee[_0x103c9c(0x108)]){console[_0x103c9c(0xfe)](_0x103c9c(0xdb)),startSock();return;}if(_0xc5af58===_0x4805ee['connectionLost']){console[_0x103c9c(0xfe)](_0x103c9c(0xd6)),startSock();return;}if(_0xc5af58===_0x4805ee['connectionReplaced']){console['log'](_0x103c9c(0x111)),_0x484d18[_0x103c9c(0xf2)]();return;}if(_0xc5af58===_0x4805ee[_0x103c9c(0xd7)]){console[_0x103c9c(0xfe)]('Session\x20terminated\x20by\x20cell\x20phone.\x20Delete\x20session\x20and\x20scan\x20the\x20QR\x20code.'),_0x484d18[_0x103c9c(0xf2)]();return;}if(_0xc5af58===_0x4805ee[_0x103c9c(0x106)]){console[_0x103c9c(0xfe)](_0x103c9c(0xf5)),startSock();return;}if(_0xc5af58===_0x4805ee['timedOut']){console[_0x103c9c(0xfe)](_0x103c9c(0xcb)),startSock();return;}_0x484d18['end'](_0x103c9c(0x10e)+_0xc5af58+'|'+_0x66cd4c[_0x103c9c(0x124)]);}),_0x484d18['ev']['on'](_0x3289a9(0xc8),saveState);};startSock();
